


<%- include('./head') %>
<style>
/* Modal Background */
#promotionNotesModal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: none;
    justify-content: center;
    align-items: center;
    background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black background */
    z-index: 1000;
}

/* Modal Content */
.modal-content {
    background-color: #fff;
    padding: 20px;
    border-radius: 10px;
    width: 60%;
    max-width: 500px;
    text-align: center;
    position: relative;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

/* Close Button */
.close {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 25px;
    font-weight: bold;
    color: #333;
    cursor: pointer;
    transition: color 0.3s;
}

.close:hover {
    color: #ff0000; /* Change color to red on hover */
}


</style>
		<!--page-wrapper-->
		<div class="page-wrapper">
			<!--page-content-wrapper-->
			<div class="page-content-wrapper">
				<div class="page-content">
					
					<div class="card radius-15">
						<div class="card-header border-bottom-0">
							<div class="d-flex align-items-center">
								<div>
									<h5 class="mb-0">Testimonial Details</h5>
								</div>
								<div class="ml-auto">
									<a href="/admin/addTestimonial">
										<button type="button" class="btn btn-light radius-15">
											Add More Testimonial
										</button>
									</a>
								</div>
							</div>
						</div>
						<div class="card-body p-0">
							<div class="table-responsive">
								<table class="table mb-0">
									<thead>
										<tr>
											<th>SI.No</th>
											<th>Image</th>
											<th>name</th>
											<th>Organization</th>
											<th>Promotion Notes</th>
											<th>Active</th>
											<th>Edit</th>
										</tr>
									</thead>

	
									<tbody>
										<% testimonial.forEach((testi, index) => { %>
										  <tr>
											<td><%= index + 1 %></td>
											<td>
											  <div class="product-img bg-transparent border">
												<img src="<%= testi.image %>" width="35" alt="<%= testi.name %>">
											  </div>
											</td>
											<td><%= testi.name %></td>
											<td><%= testi.organization %></td>
											<td>
											  <a href="javascript:void(0);" class="btn btn-sm btn-light btn-block radius-30" onclick="viewPromotion('<%= testi.promotionNotes %>')">View</a>
											</td>
											<td>
												<a href="/admin/editTestimonialStatus/<%= testi._id %>?status=<%= testi.status %>" 
												   class="btn btn-sm btn-light btn-block radius-30">
												  <%= testi.status ? 'Active' : 'Inactive' %>
												</a>
											</td>

											<td>
											  <a href="/admin/editTestimonial/<%= testi._id %>" class="btn btn-sm btn-light btn-block radius-30">
															Edit
														</a>
											</td>
										  </tr>
										<% }); %>
									  </tbody>
									  
									  <!-- Modal to show Promotion Notes -->
									  <div id="promotionNotesModal" style="display:none;">
										<div class="modal-content">
										  <span class="close" onclick="closeModal()">&times;</span>
										  <h3>Promotion Notes</h3>
										  <p id="promotionNotesText"></p>
										</div>
									  </div>
									  
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--end page-content-wrapper-->
		</div>
		<!--end page-wrapper-->
		<!--start overlay-->
		<div class="overlay toggle-btn-mobile"></div>
		<!--end overlay-->
		<!--Start Back To Top Button--> <a href="javaScript:;" class="back-to-top"><i class='bx bxs-up-arrow-alt'></i></a>
		<!--End Back To Top Button-->
		<!--footer -->
		
		<!-- end footer -->
	</div>
	<script>
		function viewPromotion(promotionNotes) {	
   			 document.getElementById('promotionNotesText').innerText = promotionNotes;
   			 document.getElementById('promotionNotesModal').style.display = 'flex';
		}
		function closeModal() {
    		document.getElementById('promotionNotesModal').style.display = 'none';
		}
	</script>
	
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/popper.min.js"></script>
	<script src="assets/js/bootstrap.min.js"></script>
	<!--plugins-->
	<script src="assets/plugins/simplebar/js/simplebar.min.js"></script>
	<script src="assets/plugins/metismenu/js/metisMenu.min.js"></script>
	<script src="assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js"></script>
	<!-- Vector map JavaScript -->
	<script src="assets/plugins/vectormap/jquery-jvectormap-2.0.2.min.js"></script>
	<script src="assets/plugins/vectormap/jquery-jvectormap-world-mill-en.js"></script>
	<script src="assets/plugins/vectormap/jquery-jvectormap-in-mill.js"></script>
	<script src="assets/plugins/vectormap/jquery-jvectormap-us-aea-en.js"></script>
	<script src="assets/plugins/vectormap/jquery-jvectormap-uk-mill-en.js"></script>
	<script src="assets/plugins/vectormap/jquery-jvectormap-au-mill.js"></script>
	<script src="assets/plugins/apexcharts-bundle/js/apexcharts.min.js"></script>
	<script src="assets/js/index2.js"></script>
	<!-- App JS -->
	<script src="assets/js/app.js"></script>
</body>

</html>